(this.webpackJsonpshopping_cart=this.webpackJsonpshopping_cart||[]).push([[0],{54:function(t,e,c){},55:function(t,e,c){},77:function(t,e,c){"use strict";c.r(e);var a=c(0),n=c.n(a),r=(c(45),c(46),c(8)),s=c(12),i=c(39),l=c(14),d=c(11),j="ADD_TO_CART",o="LOAD_CART",b="PRODUCT_DELETE",O=[],u=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,c=arguments.length>1?arguments[1]:void 0;switch(c.type){case j:if(t=localStorage.getItem("cart"),t){t=JSON.parse(t);var a=t.find((function(t){return t.id===c.payload.id}));t=a?t.map((function(t){return t.id===c.payload.id?Object(d.a)(Object(d.a)({},t),{},{quantity:t.quantity+1,total:parseInt(t.total)+parseInt(c.payload.price)}):t})):[].concat(Object(l.a)(t),[Object(d.a)(Object(d.a)({},c.payload),{},{quantity:1,total:c.payload.price})])}else t=[Object(d.a)(Object(d.a)({},c.payload),{},{quantity:1,total:c.payload.price})];return localStorage.setItem("cart",JSON.stringify(t)),Object(l.a)(t);case o:return t=localStorage.getItem("cart"),t?(t=JSON.parse(t),Object(l.a)(t)):Object(l.a)(e);case b:return t=localStorage.getItem("cart"),t&&(t=JSON.parse(t),t=t.map((function(t){return t.id===c.payload.id&&t.quantity>1?Object(d.a)(Object(d.a)({},t),{},{quantity:t.quantity-1,total:parseInt(t.total)-parseInt(t.price)}):t}))),1===c.payload.quantity&&(t=t.filter((function(t){return t.id!==c.payload.id}))),localStorage.setItem("cart",JSON.stringify(t)),Object(l.a)(t);default:return Object(l.a)(e)}},p=Object(s.c)({cart:u}),h=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,m=Object(s.e)(p,h(Object(s.a)(i.a))),x=c(20),f=c.n(x),g=(c(54),c(13)),y=c(3),v=(c(55),c(1)),N=function(){var t=Object(r.c)((function(t){return t.cart.length}));return Object(v.jsxs)("div",{className:"navbar navbar-dark bg-dark sticky-top",children:[Object(v.jsx)(g.b,{to:"/",className:"navbar-brand mx-4",children:"Redux Challenge"}),Object(v.jsxs)("div",{className:"d-flex flex-row-reverse",children:[Object(v.jsx)(g.c,{className:"btn btn-dark mr-2",to:"/",exact:!0,children:"Inicio"}),Object(v.jsx)(g.c,{className:"btn btn-dark mr-2",to:"/products",exact:!0,children:"Products"}),Object(v.jsxs)(g.c,{to:"/cart",exact:!0,children:[Object(v.jsx)("img",{id:"image",src:"https://imgbox.es/images/2021/03/16/carrito20dbc749abd24d18.th.png",alt:"cart",style:{height:"40px"}}),Object(v.jsx)("h4",{id:"quantyfi",children:t>=1&&t})]})]})]})},S=c(28),I=c.n(S),_=c(40),w=c(18),C=c(41),E=c.n(C),k=c(43),q=function(){var t=Object(a.useState)([]),e=Object(w.a)(t,2),c=e[0],n=e[1],s=Object(a.useState)(1),i=Object(w.a)(s,2),l=i[0],d=i[1],o=Object(a.useState)(""),b=Object(w.a)(o,2),O=b[0],u=b[1],p=Object(a.useState)({}),h=Object(w.a)(p,2),m=h[0],x=h[1],f=Object(r.c)((function(t){return t.cart}));Object(a.useEffect)((function(){function t(){return(t=Object(_.a)(I.a.mark((function t(){var e,c;return I.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E.a.get("https://dev2.th3insid3.com/api/products?page=".concat(l,"&search=").concat(O));case 2:e=t.sent,c=e.data.products,n(c),x(e.data.paginatorInfo);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[l,O,f]);var g=Object(r.b)();return Object(v.jsxs)("div",{className:"container text-center",children:[Object(v.jsx)("h1",{children:"Products"}),f.length>=1&&Object(v.jsxs)("h3",{className:"mt-2",children:["products in cart ",f.length]}),Object(v.jsxs)("div",{className:"d-flex justify-content-center mt-5",children:[Object(v.jsx)("h4",{children:f.length>=1}),Object(v.jsx)("div",{className:"form-outline mx-4",children:Object(v.jsx)("input",{type:"search",onChange:function(t){return u(t.target.value)},id:"form1",className:"form-control",placeholder:"Buscar"})}),Object(v.jsx)(k.a,{onChange:function(t){return d(t)},pageSize:20,total:null===m||void 0===m?void 0:m.total})]}),Object(v.jsx)("div",{className:"row",children:c.map((function(t){return Object(v.jsx)("div",{className:"col-md-4 my-5",children:Object(v.jsxs)("div",{className:"card",style:{height:"380px"},children:[Object(v.jsx)("img",{className:"card-img-top",src:t.image,alt:t.name}),Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsx)("h5",{className:"card-title",children:t.name}),Object(v.jsxs)("p",{children:["Price: ",t.price]}),Object(v.jsx)("button",{onClick:function(){return g({type:j,payload:t})},className:"btn btn-warning btn-sm",children:"ADD TO CART"})]})]})},t.id)}))})]})},D=function(){var t=Object(r.b)(),e=Object(r.c)((function(t){return t.cart}));return Object(v.jsx)("div",{className:"container",children:Object(v.jsxs)("div",{className:"text-center",children:[Object(v.jsxs)("h3",{className:"mt-2",children:["Cantidad ",e.length]}),Object(v.jsx)("h2",{className:"mt-3",children:"Products in Cart"}),Object(v.jsx)("div",{className:"row",children:e.map((function(e){return Object(v.jsx)("div",{className:"col-md-3 my-3 text-center",children:Object(v.jsxs)("div",{className:"card",children:[Object(v.jsx)("img",{src:e.image,className:"card-img-top",alt:""}),Object(v.jsxs)("div",{className:"card-body",children:[Object(v.jsx)("h5",{className:"card-title",children:e.name}),Object(v.jsxs)("p",{children:["Price: ",e.price]})]}),Object(v.jsxs)("p",{children:["cantidad: ",e.quantity]}),Object(v.jsxs)("p",{children:["total a pagar: $",e.total]}),Object(v.jsx)("button",{onClick:function(){return t({type:b,payload:e})},className:"btn btn-warning m-3",children:"delete"})]})},e.id)}))})]})})},T=function(){var t=Object(r.b)();return Object(a.useEffect)((function(){var e;t({type:o,payload:e})}),[t]),Object(v.jsx)(g.a,{children:Object(v.jsxs)("div",{children:[Object(v.jsx)(N,{}),Object(v.jsxs)(y.c,{children:[Object(v.jsx)(y.a,{component:q,path:"/products"}),Object(v.jsx)(y.a,{component:D,path:"/cart"})]})]})})};f.a.render(Object(v.jsx)(r.a,{store:m,children:Object(v.jsx)(n.a.StrictMode,{children:Object(v.jsx)(T,{})})}),document.getElementById("root"))}},[[77,1,2]]]);
//# sourceMappingURL=main.3ef729e1.chunk.js.map