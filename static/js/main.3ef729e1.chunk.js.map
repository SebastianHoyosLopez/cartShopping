{"version":3,"sources":["redux/action-types/index.js","redux/reducers/addToCart.js","redux/reducers/index.js","redux/store.js","components/Navbar.js","components/Products.js","redux/actions/index.js","components/ShoppingCart.jsx","App.js","index.js"],"names":["ADD_TO_CART","LOAD_CART","PRODUCT_DELETE","initialState","cart","state","action","type","ActionTypes","localStorage","getItem","JSON","parse","found","find","product","id","payload","map","quantity","total","parseInt","price","setItem","stringify","filter","item","RootReducer","combineReducers","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunk","Navbar","useSelector","length","className","to","exact","src","alt","style","height","Products","useState","products","setProducts","currentPage","setCurrentPage","nameProduct","setNameProduct","paginatorInfo","setPaginatorInfo","useEffect","a","axios","get","res","data","fetchData","dispatch","useDispatch","onChange","e","target","value","placeholder","page","pageSize","image","name","onClick","ShoppingCart","App","component","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3ef729e1.chunk.js","sourcesContent":["export const ADD_TO_CART = \"ADD_TO_CART\";\r\nexport const LOAD_CART = \"LOAD_CART\";\r\nexport const PRODUCT_DELETE = \"PRODUCT_DELETE\";\r\n","import * as ActionTypes from \"../action-types\";\r\n\r\nconst initialState = [];\r\n\r\nconst cart = (state = initialState, action) => {\r\n  let cart;\r\n  switch (action.type) {\r\n    case ActionTypes.ADD_TO_CART:\r\n      cart = localStorage.getItem(\"cart\");\r\n      if (cart) {\r\n        cart = JSON.parse(cart);\r\n        const found = cart.find((product) => product.id === action.payload.id);\r\n        if (found) {\r\n          cart = cart.map((product) => {\r\n            if (product.id === action.payload.id) {\r\n              return {\r\n                ...product,\r\n                quantity: product.quantity + 1,\r\n                total: parseInt(product.total) + parseInt(action.payload.price),\r\n              };\r\n            } else {\r\n              return product;\r\n            }\r\n          });\r\n        } else {\r\n          cart = [...cart, { ...action.payload, quantity: 1, total: action.payload.price }];\r\n        }\r\n      } else {\r\n        cart = [\r\n          { ...action.payload, quantity: 1, total: action.payload.price },\r\n        ];\r\n      }\r\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n      return [...cart];\r\n    case ActionTypes.LOAD_CART:\r\n      cart = localStorage.getItem(\"cart\");\r\n      if (cart) {\r\n        cart = JSON.parse(cart);\r\n        return [...cart];\r\n      }\r\n      return [...state];\r\n    case ActionTypes.PRODUCT_DELETE:\r\n      cart = localStorage.getItem(\"cart\");\r\n      if (cart) {\r\n        cart = JSON.parse(cart);\r\n        cart = cart.map((product) => {\r\n          if (product.id === action.payload.id && product.quantity > 1) {\r\n            return {\r\n              ...product,\r\n              quantity: product.quantity - 1,\r\n              total: parseInt(product.total) - parseInt(product.price),\r\n            };\r\n          } else {\r\n            return product;\r\n          }\r\n        });\r\n      }\r\n      if (action.payload.quantity === 1) {\r\n        cart = cart.filter((item) => item.id !== action.payload.id);\r\n      }\r\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n      return [...cart];\r\n    default:\r\n      return [...state];\r\n  }\r\n};\r\n\r\nexport default cart;\r\n","import { combineReducers } from \"redux\";\r\nimport cart from \"./addToCart\";\r\n\r\nconst RootReducer = combineReducers({\r\n  cart,\r\n});\r\n\r\nexport default RootReducer;\r\n","import { createStore, compose, applyMiddleware } from \"redux\";\r\nimport thunk from \"redux-thunk\";\r\nimport RootReducer from \"./reducers\";\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\n\r\nconst store = createStore(\r\n  RootReducer,\r\n  composeEnhancers(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import React from \"react\";\r\nimport { NavLink, Link } from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport \"./style/navbar.css\";\r\n\r\nconst Navbar = () => {\r\n  const quantity = useSelector((store) => store.cart.length);\r\n\r\n  return (\r\n    <div className=\"navbar navbar-dark bg-dark sticky-top\">\r\n      <Link to=\"/\" className=\"navbar-brand mx-4\">\r\n        Redux Challenge\r\n      </Link>\r\n      <div className=\"d-flex flex-row-reverse\">\r\n        <NavLink className=\"btn btn-dark mr-2\" to=\"/\" exact>\r\n          Inicio\r\n        </NavLink>\r\n        <NavLink className=\"btn btn-dark mr-2\" to=\"/products\" exact>\r\n          Products\r\n        </NavLink>\r\n        <NavLink to=\"/cart\" exact>\r\n          <img\r\n            id=\"image\"\r\n            src=\"https://imgbox.es/images/2021/03/16/carrito20dbc749abd24d18.th.png\"\r\n            alt=\"cart\"\r\n            style={{ height: \"40px\" }}\r\n          />\r\n          <h4 id=\"quantyfi\">{quantity >=1 && quantity}</h4>\r\n        </NavLink>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default Navbar;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport Pagination from \"rc-pagination\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { addToCart } from \"../redux/actions\";\r\n\r\nconst Products = () => {\r\n  const [products, setProducts] = useState([]);\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [nameProduct, setNameProduct] = useState(\"\");\r\n  const [paginatorInfo, setPaginatorInfo] = useState({});\r\n\r\n  const cart = useSelector((store) => store.cart);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const res = await axios.get(\r\n        `https://dev2.th3insid3.com/api/products?page=${currentPage}&search=${nameProduct}`\r\n      );\r\n      const products = res.data.products;\r\n      setProducts(products);\r\n      setPaginatorInfo(res.data.paginatorInfo);\r\n    }\r\n    fetchData();\r\n  }, [currentPage, nameProduct, cart]);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  return (\r\n    <div className=\"container text-center\">\r\n      <h1>Products</h1>\r\n      {cart.length >= 1 && (\r\n        <h3 className=\"mt-2\">products in cart {cart.length}</h3>\r\n      )}\r\n      <div className=\"d-flex justify-content-center mt-5\">\r\n        <h4>{cart.length >= 1}</h4>\r\n        <div className=\"form-outline mx-4\">\r\n          <input\r\n            type=\"search\"\r\n            onChange={(e) => setNameProduct(e.target.value)}\r\n            id=\"form1\"\r\n            className=\"form-control\"\r\n            placeholder=\"Buscar\"\r\n          />\r\n        </div>\r\n        <Pagination\r\n          onChange={(page) => setCurrentPage(page)}\r\n          pageSize={20}\r\n          total={paginatorInfo?.total}\r\n        />\r\n      </div>\r\n      <div className=\"row\">\r\n        {products.map((product) => (\r\n          <div key={product.id} className=\"col-md-4 my-5\">\r\n            <div className=\"card\" style={{ height: \"380px\" }}>\r\n              <img\r\n                className=\"card-img-top\"\r\n                src={product.image}\r\n                alt={product.name}\r\n              />\r\n              <div className=\"card-body\">\r\n                <h5 className=\"card-title\">{product.name}</h5>\r\n                <p>Price: {product.price}</p>\r\n                <button\r\n                  onClick={() => dispatch(addToCart(product))}\r\n                  className=\"btn btn-warning btn-sm\"\r\n                >\r\n                  ADD TO CART\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Products;\r\n","import * as ActionTypes from \"../action-types\";\r\n\r\nexport const addToCart = (payload) => ({\r\n  type: ActionTypes.ADD_TO_CART,\r\n  payload,\r\n});\r\n\r\nexport const loadCart = (payload) => ({\r\n  type: ActionTypes.LOAD_CART,\r\n  payload,\r\n});\r\n\r\nexport const productDelete = (payload) => ({\r\n  type: ActionTypes.PRODUCT_DELETE,\r\n  payload,\r\n})","import React from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { productDelete } from \"../redux/actions\";\r\n\r\nconst ShoppingCart = () => {\r\n  const dispatch = useDispatch();\r\n  const cart = useSelector((store) => store.cart);\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <div className=\"text-center\">\r\n        <h3 className=\"mt-2\">Cantidad {cart.length}</h3>\r\n        <h2 className=\"mt-3\">Products in Cart</h2>\r\n        <div className=\"row\">\r\n          {cart.map((product) => (\r\n            <div key={product.id} className=\"col-md-3 my-3 text-center\">\r\n              <div className=\"card\">\r\n                <img src={product.image} className=\"card-img-top\" alt=\"\" />\r\n                <div className=\"card-body\">\r\n                  <h5 className=\"card-title\">{product.name}</h5>\r\n                  <p>Price: {product.price}</p>\r\n                </div>\r\n                <p>cantidad: {product.quantity}</p>\r\n                <p>total a pagar: ${product.total}</p>\r\n                <button\r\n                  onClick={() => dispatch(productDelete(product))}\r\n                  className=\"btn btn-warning m-3\"\r\n                >\r\n                  delete\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ShoppingCart;\r\n","import React, { useEffect } from \"react\";\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\nimport Navbar from \"./components/Navbar\";\nimport Products from \"./components/Products\";\nimport ShoppingCart from \"./components/ShoppingCart\";\nimport { loadCart } from \"./redux/actions\";\nimport { useDispatch } from \"react-redux\";\n\nconst App = () => {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    dispatch(loadCart());\n  }, [dispatch]);\n\n  return (\n    <Router>\n      <div>\n        <Navbar />\n        <Switch>\n          <Route component={Products} path=\"/products\" />\n          <Route component={ShoppingCart} path=\"/cart\" />\n        </Switch>\n      </div>\n    </Router>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport \"bootstrap/dist/css/bootstrap.css\";\nimport \"rc-pagination/assets/index.css\";\nimport { Provider } from \"react-redux\";\nimport store from \"./redux/store\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <React.StrictMode>\n      <App />\n    </React.StrictMode>\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}